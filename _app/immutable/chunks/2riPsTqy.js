/*! @gera2ld/jsx-dom v2.2.2 | ISC License */const B="http://www.w3.org/2000/svg",h="http://www.w3.org/1999/xlink",p={show:h,actuate:h,href:h},z=A=>typeof A=="string"||typeof A=="number",y=A=>(A==null?void 0:A.vtype)===1,x=A=>(A==null?void 0:A.vtype)===2;function s(A,t){let e;if(typeof A=="string")e=1;else if(typeof A=="function")e=2;else throw new Error("Invalid VNode type");return{vtype:e,type:A,props:t}}const d=s;function R(A){return A.children}const M={isSvg:!1};function f(A,t){Array.isArray(t)||(t=[t]),t=t.filter(Boolean),t.length&&A.append(...t)}function T(A,t,e){for(const i in t)if(!(i==="key"||i==="children"||i==="ref"))if(i==="dangerouslySetInnerHTML")A.innerHTML=t[i].__html;else if(i==="innerHTML"||i==="textContent"||i==="innerText"||i==="value"&&["textarea","select"].includes(A.tagName)){const r=t[i];r!=null&&(A[i]=r)}else i.startsWith("on")?A[i.toLowerCase()]=t[i]:C(A,i,t[i],e.isSvg)}const Q={className:"class",labelFor:"for"};function C(A,t,e,i){if(t=Q[t]||t,e===!0)A.setAttribute(t,"");else if(e===!1)A.removeAttribute(t);else{const r=i?p[t]:void 0;r!==void 0?A.setAttributeNS(r,t,e):A.setAttribute(t,e)}}function b(A){return A.reduce((t,e)=>t.concat(e),[])}function a(A,t){return Array.isArray(A)?b(A.map(e=>a(e,t))):u(A,t)}function u(A,t=M){if(A==null||typeof A=="boolean")return null;if(A instanceof Node)return A;if(x(A)){const{type:e,props:i}=A;if(e===R){const o=document.createDocumentFragment();if(i.children){const l=a(i.children,t);f(o,l)}return o}const r=e(i);return u(r,t)}if(z(A))return document.createTextNode(`${A}`);if(y(A)){let e;const{type:i,props:r}=A;if(!t.isSvg&&i==="svg"&&(t=Object.assign({},t,{isSvg:!0})),t.isSvg?e=document.createElementNS(B,i):e=document.createElement(i),T(e,r,t),r.children){let l=t;t.isSvg&&i==="foreignObject"&&(l=Object.assign({},l,{isSvg:!1}));const g=a(r.children,l);g!=null&&f(e,g)}const{ref:o}=r;return typeof o=="function"&&o(e),e}throw new Error("mount: Invalid Vnode!")}function m(A){return u(A)}const v="mm-toolbar-item",N="active";function E(){return d("a",{className:"mm-toolbar-brand",href:"https://markmap.js.org/",children:[s("img",{alt:"markmap",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAACoFBMVEUAAAAAAAD//wAAAACAgAD//wAAAABVVQCqqgBAQACAQACAgABmZgBtbQAAAABgQABgYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaFQAAAAAAAAAAAAAAAAAHAAARBQIdGAIYEwI/OgJYUQUfHQI+OgJDPgJJRARBPQRJQgRRSwRRTQRIQQRUTgRUUARZUgRSTQRPSQRjWgZORQRfWQZsZAhTTQRNRwRWUAZkXAZOSARUTgZPRwRRSQRoYwZWUQZWTgRbUwZmXQZoXghmXwdqYwdsYwdfVwVmXQdqYgdiWgVpYAl3bgl6cgl4cAqLggw8OAOWjA2Uig1OSAR2bQihlg55cAh5cAh6cQmMgwyOhAyUjA2QhQ2Uiw2Viw2soBCflA+voxGwpRGhlg+hlg+snxGroBGjmBCpnBC0pxKyphKxpRG2qhK0qBK5rBK5rBP/7h3/8B7/8R3/8h3/8R7/8h786x397B3+7R3EtxT66Rz66hz76hz86xz96xz97Bz+7Rz45xz56Bz76hz97Bz97B3MvRX15Rv25Rv45xz66Rz76hz97B3+7R3IuxX05Bv15Bv25Rz56Bz66Ry/sxPAsxPCtRTCthTNvxbZyxfczxfi0xjl1Rnn2Bnr2xrr3Brs3Rru3Rru3xrv3hrw3xrx4Bvx4Rvy4hvz4hvz4xv04xv05Bv14xv15Bv15Rv25Bv25Rv25Rz25hv35hv35xv45xv45xz55xz56Bv56Bz66Rv66Rz76Rv76Rz76hz86hv86xz+7h3/7R3/7h3/7x3/8B3/8B7/8R3/8R4Yqhj5AAAAq3RSTlMAAQECAgIDAwMEBAQFBwgICAwQERITFRYXGBkbHB0eHyQlJyguNTg8RUZISU5PV2FiY2RlZmdqa2xubnJzc3R2d3d3eXl5eXp7fH1+gIGCgoKDg4SEhIWGh4eHiYmJjIyMjZSUlJ+sra+zt7i4uru8ztHV1tbW2d7g4OHi4uPk5ufp7Ozv9fX29/f3+Pj6+vr7+/v7+/v7+/z8/Pz8/f39/f39/f3+/v7+/v7K6J1dAAACHklEQVQ4y2NgwAoYWdi5uLm5GXHIcrLCmMzYpDmAhKCKjoGtp40MFhVsDAwSxmmVEzZu2XvqSLkchjw3g0h445Ybd24vmTN1Usd5X3R5DgaNqgN35sycP2/GxMkTMRVwMOivvtO3YsWUm3duX790EcMKdgbNNXdnnJh1+9T6ipzU+FB0RzIyiFYB5WdfaElUF8TmTQ6GwH39J2bvypMHcpg4MAKKkUGo5s6KWRfyGRh4WJClGEGBCgS8DLobliy/3abMwM8NBYwQjXDgf3ryxOspyKYyg+RFTFwdnYDAzbrw+oLFm9Ot3J3AwNHFTBykQrhg++GDh48cOXzk4P6VZy8s230MyAGCwwcP7iyRBJpiur1n8hQIWHX27NkLi6bAwOSuow5ABeY7OydOhoCFIAULe6E8YFCf8QAqEC86evniZTA4tfLsuRXHr0E4ly9ePF0uC3KnpH1MZBQQxPoVgxyZ5RMdBQaRMc6yIEcihWbQGaA3k9G8CfQoN0pAtSoxCMACihk9qGtBQZ2LHtRIkRUMiqwd2TJADiswsrjQlAGju/o+MLrPNkWo8mFN1ewMWmvBCebQ0rKMJG87QzF0FRwMRuvugpLcrXu3rp7Zs61UCtMZ2nVHbk+fMX/+jMmTp3Sf9MLiULG45q237txaPG3yxPYrYQzYMo60RWbD3E27Ll68Uq+AK+uJqOlZBiSEKGLNnMA0iDfzwrI/NKgBOivk9piPdtUAAAAASUVORK5CYII="}),s("span",{children:"markmap"})]})}function k({title:A,content:t,onClick:e}){return s("div",{className:v,title:A,onClick:e,children:t})}let c;function I(A){return async(...t)=>{if(!c){c=A(...t);try{await c}finally{c=void 0}}}}const w=class n{constructor(){this.showBrand=!0,this.registry={},this.el=m(s("div",{className:"mm-toolbar"})),this.items=[...n.defaultItems],this.register({id:"zoomIn",title:"Zoom in",content:n.icon("M9 5v4h-4v2h4v4h2v-4h4v-2h-4v-4z"),onClick:this.getHandler(t=>t.rescale(1.25))}),this.register({id:"zoomOut",title:"Zoom out",content:n.icon("M5 9h10v2h-10z"),onClick:this.getHandler(t=>t.rescale(.8))}),this.register({id:"fit",title:"Fit window size",content:n.icon("M4 7h2v-2h2v4h-4zM4 13h2v2h2v-4h-4zM16 7h-2v-2h-2v4h4zM16 13h-2v2h-2v-4h4z"),onClick:this.getHandler(t=>t.fit())}),this.register({id:"recurse",title:"Toggle recursively",content:n.icon("M16 4h-12v12h12v-8h-8v4h2v-2h4v4h-8v-8h10z"),onClick:t=>{var e;const i=t.target.closest(`.${v}`),r=i==null?void 0:i.classList.toggle(N);(e=this.markmap)==null||e.setOptions({toggleRecursively:r})}}),this.register({id:"dark",title:"Toggle dark theme",content:n.icon("M10 4a6 6 0 0 0 0 12a6 6 0 0 0 0 -12v2a4 4 0 0 1 0 8z"),onClick:()=>{document.documentElement.classList.toggle("markmap-dark")}}),this.render()}static create(t){const e=new n;return e.attach(t),e}static icon(t,e={}){return e={stroke:"none",fill:"currentColor","fill-rule":"evenodd",...e},s("svg",{width:"20",height:"20",viewBox:"0 0 20 20",children:s("path",{...e,d:t})})}setBrand(t){return this.showBrand=t,this.render()}register(t){this.registry[t.id]=t}getHandler(t){return t=I(t),()=>{this.markmap&&t(this.markmap)}}setItems(t){return this.items=[...t],this.render()}attach(t){this.markmap=t}render(){const t=this.items.map(e=>{if(typeof e=="string"){const i=this.registry[e];return i||console.warn(`[markmap-toolbar] ${e} not found`),i}return e}).filter(Boolean);for(;this.el.firstChild;)this.el.firstChild.remove();return this.el.append(m(d(R,{children:[this.showBrand&&E(),t.map(k)]}))),this.el}};w.defaultItems=["zoomIn","zoomOut","fit","recurse","dark"];let U=w;export{U as Toolbar};
